<div class="container-fluid" style="background-color: #cccccc">
    <div class="row section-10">
        <div class="col-12 actions">
            <!--<h5 class="mt-1 ml-1">Actions: </h5>-->
            <div class="btn-toolbar m-3 justify-content-between">
            <!--<div class="btn-group m-3">-->
                <app-side-menu [clr]="'black'" class="mt-3"></app-side-menu>
                <p class="h2 m-0 p-0" style="font-family: Courier">E-GRANT</p>
                <button class="btn btn-outline-success" data-toggle="modal" data-target="#newEmailModal">
                    <i class="material-icons">email</i>/
                    /<i class="material-icons">vpn_key</i>
                </button>
                <!--<button class="btn btn-outline-info" routerLink="/home">-->
                    <!--<i class="material-icons">arrow_back</i> PM-->
                <!--</button>-->
                <!-- Button trigger modal -->
                <!--<button type="button" class="btn btn-primary">-->
                    <!--Launch demo modal-->
                <!--</button>-->
            </div>
            <!--</div>-->
            <!--<i class="material-icons action-box ml-3" (click)="newEmail()">email</i>-->
            <!--<i class="material-icons action-box">vpn_key</i>-->
            <!--<i class="material-icons action-box" routerLink="/home">arrow_back</i>-->
        </div>
    </div>
    <div class="row section-90">
        <div class="col-3 inbox">
            <div class="card mt-3 mb-0 email" (click)="onEmailClick(i)" *ngFor="let email of emails; let i = index">
                <div class="card-body">
                    <h4 class="card-title text-left">{{email.title}}</h4>
                    <p class="card-text text-right text-muted">{{email.content}}</p>
                </div>
            </div>
        </div>
        <div class="col-9">
            <div class="container-fluid">
                <div class="row section-80">
                    <div class="col-12 detail-section">
                        <div class="card detail" *ngIf="selectedEmail !== -1">
                            <div class="card-body">
                                <h4 class="card-title text-left">{{emails[selectedEmail].title}}</h4>
                                <hr>
                                <p class="card-text text-left">{{emails[selectedEmail].content}}</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row section-10">
                    <div class="col-12 email-actions">
                        <div class="btn-toolbar m-3 justify-content-between">
                            <!--<div class="btn-group m-3">-->
                            <button class="btn btn-primary" [disabled]="selectedEmail === -1" (click)="newEmail()">
                                Reply
                            </button>
                            <button class="btn btn-primary" [disabled]="selectedEmail === -1" (click)="newEmail()">
                                Reply All
                            </button>
                            <button class="btn btn-primary" [disabled]="selectedEmail === -1" (click)="newEmail()">
                                Forward
                            </button>
                            <button class="btn btn-primary" [disabled]="selectedEmail === -1" (click)="newEmail()">
                                Forward All
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<!-- Modal: New Email -->
<div class="modal fade" id="newEmailModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">New Email/Grant</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="form-group row">
                        <label for="sender-name" class="col-sm-2 col-form-label">From:</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="sender-name" placeholder="from">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="recipient-name" class="col-sm-2 col-form-label">To:</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="recipient-name" placeholder="to">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="subject" class="col-sm-2 col-form-label">Subject</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="subject" placeholder="subject">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="message-text" class="col-sm-2 col-form-label">Message:</label>
                        <textarea class="ml-3 form-control" id="message-text" style="height: 300px !important;"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-12">
                            <div class="btn-group" role="group" style="float: left;">
                                <button type="button" class="btn btn-info" data-toggle="modal" data-target="#attachModal">
                                    <i class="material-icons">attach_file</i>
                                </button>
                            </div>
                            <div class="btn-group" role="group" style="float: right;">
                                <button type="button" class="btn btn-danger" (click)="draftMessage()">Draft</button>
                                <button type="button" class="btn btn-success" (click)="sendMessage()">Send</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- Modal: Attach -->
<div class="modal fade" id="attachModal" tabindex="-2" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Attach Files</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-12 scroller">
                            <app-poshome (selectedDoc)="onDocAttach($event)"></app-poshome>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <div class="justify-content-center">
                    <div>
                        <ul>
                            <li *ngFor="let doc of tempAttachments">{{doc.type}}: {{doc.name}}</li>
                        </ul>
                    </div>
                    <div class="btn-group">
                        <button type="button" class="btn btn-danger" data-dismiss="modal">Cancel</button>
                        <button type="button" class="btn btn-success" (click)="confirmAttachments()">Attach</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>